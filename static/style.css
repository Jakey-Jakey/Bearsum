/* static/style.css */

/* --- Variables --- */
:root {
    --font-primary: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --color-bg: #FFF8E1; /* Light creamy yellow */
    --color-surface: #FFFFFF;
    --color-text-primary: #4E342E; /* Dark brown text */
    --color-text-secondary: #795548; /* Lighter brown */
    --color-text-dark: #3E2723;
    --color-accent-primary: #FFB300; /* Amber/Honey */
    --color-accent-secondary: #FFA000; /* Darker honey */
    --color-accent-strong: #FF8F00; /* Strong orange/honey */
    --color-border-light: #FFECB3; /* Light honey border */
    --color-border-medium: #D7CCC8; /* Light brown border */
    --color-border-dark: #BCAAA4;
    --color-bg-light: #FFFDE7; /* Very light yellow */
    --color-bg-subtle: #FAFAFA;
    --color-success-bg: #E8F5E9;
    --color-success-text: #2E7D32;
    --color-success-border: #A5D6A7;
    --color-error-bg: #FFEBEE;
    --color-error-text: #C62828;
    --color-error-border: #EF9A9A;
    --color-warning-bg: #FFF3E0;
    --color-warning-text: #EF6C00;
    --color-warning-border: #FFCC80;

    --border-radius: 8px;
    --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    --transition-speed: 0.2s;
}

/* --- Base & Typography --- */
body {
    font-family: var(--font-primary);
    margin: 0;
    padding: 0;
    background-color: var(--color-bg);
    color: var(--color-text-primary);
    line-height: 1.6;
    font-size: 16px; /* Base font size */
}

h1, h2, h3, h4 {
    color: var(--color-text-dark);
    line-height: 1.3;
    margin-bottom: 0.6em;
}
h1 { font-size: 2.2rem; }
h2 { font-size: 1.6rem; margin-top: 1.5em; }
h3 { font-size: 1.3rem; }
h4 { font-size: 1.1rem; color: var(--color-text-secondary); }
p { margin-bottom: 1em; }
a { color: var(--color-accent-strong); text-decoration: none; }
a:hover { text-decoration: underline; }

/* --- Layout --- */
.container {
    max-width: 850px; /* Slightly wider */
    margin: 2em auto;
    padding: 2em 2.5em; /* More padding */
    background-color: var(--color-surface);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
}

.app-header {
    background-color: var(--color-accent-primary);
    color: var(--color-text-dark);
    padding: 1.2em 0;
    text-align: center;
    margin-bottom: 2.5em;
    border-bottom: 5px solid var(--color-accent-secondary);
}
.app-header h1 { margin: 0; font-weight: 700; }
.theme-accent { font-weight: 400; font-size: 0.8em; color: var(--color-text-primary); }

.upload-section, .processing-indicator, .results-container {
    margin-bottom: 2.5em; /* Consistent spacing between sections */
}

/* --- Utility --- */
.visually-hidden { /* Hides element visually but keeps accessible */
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
.hidden { display: none !important; }


/* --- Flash Messages --- */
.flash-messages { margin-bottom: 1.5em; }
.flash { padding: 0.8em 1.2em; margin-bottom: 0.8em; border-radius: 4px; border: 1px solid transparent; }
.flash-success { color: var(--color-success-text); background-color: var(--color-success-bg); border-color: var(--color-success-border); }
.flash-error { color: var(--color-error-text); background-color: var(--color-error-bg); border-color: var(--color-error-border); }
.flash-warning { color: var(--color-warning-text); background-color: var(--color-warning-bg); border-color: var(--color-warning-border); }
.error-area { background-color: var(--color-error-bg); padding: 1em; border: 1px solid var(--color-error-border); border-radius: 4px; margin-top: 1.5em; }
.error-area h4 { margin-top: 0; color: var(--color-error-text); }

/* --- File Info Box --- */
.file-info {
    font-size: 0.9em; color: var(--color-text-secondary); margin-bottom: 1.5em; padding: 0.8em 1em;
    background-color: var(--color-bg-light); border-left: 4px solid var(--color-accent-primary); border-radius: 4px;
}

/* --- Upload Form & Drag Drop --- */
.upload-form { display: flex; flex-direction: column; gap: 1.5em; }
.upload-form .form-group { margin-bottom: 0; }
.upload-form label:not(.ghost-buttons label) { /* Don't style ghost button labels this way */
    display: block; margin-bottom: 0.5em; font-weight: 600; color: var(--color-text-dark);
}

.drop-zone {
    border: 3px dashed var(--color-border-medium);
    border-radius: var(--border-radius);
    padding: 2.5em 1.5em;
    text-align: center;
    cursor: pointer;
    background-color: var(--color-bg-subtle);
    transition: background-color var(--transition-speed), border-color var(--transition-speed);
}
.drop-zone p { margin: 0.5em 0; color: var(--color-text-secondary); }
.drop-zone.dragover {
    background-color: var(--color-bg-light);
    border-color: var(--color-accent-strong);
}
.btn-browse { /* Style the link like a button */
    display: inline-block; /* Needed for button styles */
    margin-top: 0.5em;
    background-color: var(--color-surface);
    color: var(--color-accent-strong);
    border: 1px solid var(--color-accent-secondary);
    padding: 8px 16px;
}
.btn-browse:hover {
    background-color: var(--color-bg-light);
    border-color: var(--color-accent-strong);
    text-decoration: none;
}

.file-list-display {
    margin-top: 1em;
    font-size: 0.9em;
    background-color: var(--color-bg-subtle);
    border: 1px solid var(--color-border-light);
    border-radius: 4px;
    padding: 0.8em 1.2em;
    min-height: 3em; /* Ensure it has some height even when empty */
}
.file-list-display ul { list-style: none; padding: 0; margin: 0; }
.file-list-display li {
    padding: 0.3em 0;
    border-bottom: 1px dashed var(--color-border-light);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* Allow error message to wrap */
}
.file-list-display li:last-child { border-bottom: none; }
.file-list-display .file-size { color: var(--color-text-secondary); margin-left: 1em; font-size: 0.9em; white-space: nowrap; }
.file-list-display .file-error { color: var(--color-error-text); font-weight: bold; margin-left: 1em; font-size: 0.9em; }
.file-list-display li.has-error { background-color: #FFF3F3; } /* Subtle highlight for files with errors */


/* --- Radio Button - Ghost Button Style --- */
.radio-group.ghost-buttons {
    display: flex;
    gap: 0.8em; /* Space between buttons */
    flex-wrap: wrap;
}
.radio-group.ghost-buttons label {
    margin-right: 0; /* Remove default margin */
    display: inline-block; /* Needed for padding */
}
.radio-group.ghost-buttons span { /* Style the text span */
    display: block;
    padding: 8px 16px;
    border: 2px solid var(--color-border-medium);
    border-radius: var(--border-radius);
    cursor: pointer;
    background-color: var(--color-surface);
    color: var(--color-text-secondary);
    transition: background-color var(--transition-speed), color var(--transition-speed), border-color var(--transition-speed);
    font-weight: 600;
}
.radio-group.ghost-buttons label:hover span {
    border-color: var(--color-accent-secondary);
    background-color: var(--color-bg-light);
}
/* Style for the selected button */
.radio-group.ghost-buttons input[type="radio"]:checked + span {
    background-color: var(--color-accent-primary);
    border-color: var(--color-accent-secondary);
    color: var(--color-text-dark);
    font-weight: 700;
}
/* Focus style for accessibility */
.radio-group.ghost-buttons input[type="radio"]:focus-visible + span {
     outline: 2px solid var(--color-accent-strong);
     outline-offset: 2px;
}


/* --- Buttons (Refined) --- */
.btn {
    display: inline-block; padding: 12px 24px; border: none; border-radius: var(--border-radius);
    font-size: 1rem; font-weight: 600; text-decoration: none; cursor: pointer;
    transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
    text-align: center; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}
.btn:hover { opacity: 0.9; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
.btn:active { transform: translateY(1px); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; box-shadow: none; transform: none; }

.btn-submit { background-color: var(--color-accent-strong); color: white; width: 100%; box-sizing: border-box; }
.btn-submit:hover { background-color: var(--color-accent-secondary); }

.btn-copy { background-color: var(--color-text-secondary); color: white; }
.btn-copy:hover { background-color: var(--color-text-dark); }

.btn-download { background-color: #A1887F; color: white; }
.btn-download:hover { background-color: #8D6E63; }

.action-buttons { margin-top: 1.5em; display: flex; gap: 1em; flex-wrap: wrap; }

/* --- Processing Indicator (Refined) --- */
.processing-indicator {
    margin-top: 2em; padding: 2em; background-color: var(--color-bg-light);
    border: 1px solid var(--color-border-light); border-radius: var(--border-radius);
    text-align: center; display: flex; flex-direction: column; align-items: center; gap: 1em;
}
.processing-indicator.hidden { display: none !important; }
.processing-indicator p { margin: 0; font-size: 1.2em; color: var(--color-text-dark); font-weight: 600; }
.spinner { border: 6px solid var(--color-border-light); border-top: 6px solid var(--color-accent-strong); border-radius: 50%; width: 45px; height: 45px; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Live Status Area */
.live-status-area {
    width: 100%; max-width: 600px; margin-top: 1em; background-color: var(--color-surface);
    border: 1px solid var(--color-border-medium); border-radius: 4px; padding: 0.8em 1.2em;
    text-align: center; box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
}
.live-status-area h4 { margin-top: 0; margin-bottom: 0.5em; font-size: 1em; color: var(--color-text-secondary); }
p.latest-status-message { margin: 0; font-size: 1em; color: var(--color-text-primary); min-height: 1.3em; line-height: 1.4; font-weight: 600; }


/* --- Results Area (Refined) --- */
.results-container { margin-top: 2.5em; padding-top: 2em; border-top: 1px solid var(--color-border-medium); display: flex; flex-direction: column; gap: 2.5em; }
.results-container.hidden { display: none !important; }
.results-area h2 { margin-top: 0; margin-bottom: 1em; color: var(--color-text-dark); border-bottom: 2px solid var(--color-border-light); padding-bottom: 0.4em; }

/* View Toggle */
.view-toggle { margin-bottom: 1.5em; display: flex; gap: 0.5em; border-bottom: 1px solid var(--color-border-medium); padding-bottom: 0.8em; }
.btn-toggle { padding: 8px 16px; font-size: 0.95em; background-color: transparent; color: var(--color-text-secondary); border: none; border-bottom: 3px solid transparent; border-radius: 0; font-weight: 600; box-shadow: none; }
.btn-toggle.active { color: var(--color-accent-strong); border-bottom-color: var(--color-accent-strong); font-weight: 700; }
.btn-toggle:hover:not(.active) { background-color: var(--color-bg-subtle); color: var(--color-text-primary); }
.btn-toggle:active { transform: none; box-shadow: none; } /* Remove active transform for tabs */

/* Rendered/Raw Views */
.summary-rendered { line-height: 1.7; color: var(--color-text-primary); padding: 1em; border: 1px solid var(--color-border-medium); border-radius: var(--border-radius); background-color: var(--color-surface); }
.summary-rendered.hidden, .summary-raw.hidden { display: none; }
.summary-rendered h1, .summary-rendered h2, .summary-rendered h3 { color: var(--color-text-dark); margin-top: 1.2em; margin-bottom: 0.6em; padding-bottom: 0.2em; border-bottom: 1px solid var(--color-border-light); }
.summary-rendered h1:first-child, .summary-rendered h2:first-child, .summary-rendered h3:first-child { margin-top: 0; }
.summary-rendered p { margin-bottom: 1em; }
.summary-rendered ul, .summary-rendered ol { padding-left: 2em; margin-bottom: 1em; }
.summary-rendered li { margin-bottom: 0.4em; }
.summary-rendered code { background-color: var(--color-bg-light); padding: 0.2em 0.4em; border-radius: 3px; font-family: Consolas, Monaco, monospace; font-size: 0.9em; color: #BF360C; border: 1px solid var(--color-border-light); }
.summary-rendered pre { background-color: var(--color-bg-light); border: 1px solid var(--color-border-medium); border-radius: 4px; padding: 1em; overflow-x: auto; }
.summary-rendered pre code { background-color: transparent; padding: 0; border-radius: 0; border: none; color: inherit; }
.summary-rendered blockquote { border-left: 4px solid var(--color-accent-primary); margin-left: 0; padding-left: 1em; color: var(--color-text-secondary); font-style: italic; }

.summary-raw pre { white-space: pre-wrap; word-wrap: break-word; background-color: var(--color-bg-subtle); padding: 1em; border: 1px solid var(--color-border-medium); border-radius: var(--border-radius); max-height: 500px; overflow-y: auto; color: var(--color-text-dark); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 0.95em; }

/* Final Status Log (if shown) */
.status-section .status-log { background-color: var(--color-bg-subtle); border: 1px solid var(--color-border-medium); border-radius: var(--border-radius); padding: 0.8em 1.2em; max-height: 300px; overflow-y: auto; font-size: 0.9em; color: var(--color-text-secondary); }
.status-section .status-log ol { padding-left: 1.5em; margin: 0.5em 0; }
.status-section .status-log li { margin-bottom: 0.4em; padding-left: 0.3em; }
.status-section .status-log li::marker { color: var(--color-accent-primary); font-weight: bold; }